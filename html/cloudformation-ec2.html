            <div class="main-body-div" id="main-box">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12 col-xs-12">
                <!-- Main Body Content -->
                    <h2 class="page-title bg-primary">CloudFormation: Deploying to EC2</h2>
                   <!-- inner body -->
                <div class="inner-body panel">
                    <h4 class="sub-heading">Introduction</h4>
                    <p>In this sublesson, we will walk through the CloudFormation template that launches the static website solution. We'll cover some of the basics of CloudFormation while reviewing the AWS resources that are provisioned as part of this solution. A link to the CloudFormation template is provided below.</p>
                    <ul class="edited-ul">
                        <li><a href="https://github.com/stelligent/devops-essentials/blob/master/samples/ec2/pipeline.yml" target="_blank">CloudFormation Template for Deploying to EC2</a></li>
                    </ul>
                    <p>
                    <a href="https://console.aws.amazon.com/cloudformation/home?region=us-east-1#cstack=sn%7Estatic-website-pipeline%7Cturl%7Ehttps://s3.amazonaws.com/www.devopsessentialsaws.com/samples/static/pipeline.yml">
<img border="0" alt="Launch Stack" src="https://s3.amazonaws.com/cloudformation-examples/cloudformation-launch-stack.png">
</p>
                    <p>The <strong>pipeline.yml</strong> provisions the following AWS resources in its CloudFormation template are: </p>
                    <ul class="edited-ul">
                        <li><a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-codebuild-project.html" target="_blank">AWS::CodeBuild::Project</a></li>
                        <li><a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-codecommit-repository.html" target="_blank">AWS::CodeCommit::Repository</a></li>
                        <li><a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stack.html" target="_blank">AWS::CloudFormation::Stack</a></li>
                        <li><a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-role.html" target="_blank">AWS::IAM::Role</a></li>
                        <li><a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-codepipeline-pipeline.html" target="_blank">AWS::CodePipeline::Pipeline</a></li>
                        <li><a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-codedeploy-application.html" target="_blank">AWS::CodeDeploy::Application</a></li>
                        <li><a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-codedeploy-deploymentgroup.html" target="_blank">AWS::CodeDeploy::DeploymentGroup</a></li>
                        <li><a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-sns-topic.html" target="_blank">AWS::SNS::Topic</a></li>
                    </ul>
                    <p>In addition, the pipeline.yml makes a call to a CloudFormation template provided by AWS that provisons EC2 instance(s) and installs the CodeDeploy on these instances. This template provisions the following AWS resources: </p>
                        <ul class="edited-ul">
                            <li><a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-policy.html" target="_blank">AWS::IAM::Policy</a></li>
                            <li><a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-role.html" target="_blank">AWS::IAM::Role</a></li>
                            <li><a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-instanceprofile.html" target="_blank">AWS::IAM::InstanceProfile</a></li>
                            <li><a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html" target="_blank">AWS::EC2::Instance</a></li>
                            <li><a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-security-group.html" target="_blank">AWS::EC2::SecurityGroup</a></li>
                            <li><a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-waitcondition.html" target="_blank">AWS::CloudFormation::WaitCondition</a></li>
                            <li><a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-waitconditionhandle.html" target="_blank">AWS::CloudFormation::WaitConditionHandle</a></li>
                        </ul>
                       </div>  
                     </div>
                     </div>
                 </div>  

                <!-- container-fluid start here -->
                <div class="container-fluid">        
                    <div class="row">
                        <div class="col-xs-12 col-md-12">
                         <h4 class="bg-info secondary-header">Parameters</h4> 
                            <div class="inner-body panel">
                                <ul class="ul-listed">
                                   <li>Review the <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" target="_blank">parameters</a> defined in this <a href="https://github.com/stelligent/devops-essentials/blob/master/samples/ec2/pipeline.yml#LL4-LL35">CloudFormation template</a>.
                                   <!-- code block -->
                                    <figure class="highlight">
                                        <pre>
                                            <code class="language-html" data-lang="html">  "Parameters":{
    "EmailAddress":{
      "Description":"Email Address for sending SNS notifications for CodeCommit",
      "Type":"String"
    },
    "RepositoryBranch":{
      "Description":"The name of the branch for the CodeCommit repo",
      "Type":"String",
      "Default":"master",
      "AllowedPattern":"[\\x20-\\x7E]*",
      "ConstraintDescription":"Can contain only ASCII characters."
    },
    "TagKey":{
      "Type":"String",
      "Default":"Name",
      "Description":"The tag name that is associated with EC2 instances on which CodeDeploy agent is installed"
    },
    "TagValue":{
      "Description":"The tag value that identifies this as a target for deployments.",
      "Type":"String",
      "Default":"CodeDeployEC2Tag",
      "AllowedPattern":"[\\x20-\\x7E]*",
      "ConstraintDescription":"Can contain only ASCII characters."
    },
    "EC2KeyPairName":{
      "Description":"Name of an existing Amazon EC2 key pair to enable SSH access to the instances.",
      "Type":"AWS::EC2::KeyPair::KeyName",
      "MinLength":"1",
      "MaxLength":"255",
      "AllowedPattern":"[\\x20-\\x7E]*",
      "ConstraintDescription":"Can contain only ASCII characters."
    }
  },</code>
                                           </pre>
                                    </figure>
                                    <!--code block ends here-->
                                   </li>
                                </ul>
                            </div>
                        </div>
                        </div>
            <!-- container-fluid ends here --> </div>   


               <!-- container-fluid start here -->
                <div class="container-fluid">        
                    <div class="row">
                        <div class="col-xs-12 col-md-12">
                         <h4 class="bg-info secondary-header">SNS Topic</h4> 
                            <div class="inner-body panel">
                                <ul class="ul-listed">
                                   <li>Review the use of <strong><a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-sns-topic.html" target="_blank">AWS::SNS::Topic</a></strong> defined in this CloudFormation template.
                                   <!-- code block -->
                                    <figure class="highlight">
                                        <pre>
                                            <code class="language-html" data-lang="html">    "MySNSTopic":{
      "Type":"AWS::SNS::Topic",
      "Properties":{
        "Subscription":[
          {
            "Endpoint":{
              "Ref":"EmailAddress"
            },
            "Protocol":"email"
          }
        ]
      }
    },</code>
                                           </pre>
                                    </figure>
                                    <!--code block ends here-->
                                   </li>
                                </ul>
                            </div>
                        </div>
                        </div>
            <!-- container-fluid ends here --> </div>    

